<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>METIS | Intelligence Control</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', -apple-system, sans-serif;
            background-color: #ffffff;
            color: #171a20;
        }
        .sidebar-item {
            transition: all 0.2s;
            color: #393c41;
        }
        .sidebar-item:hover {
            background-color: #f4f4f4;
            color: #000;
        }
        .sidebar-item.active {
            font-weight: 600;
            color: #000;
            background-color: #eeeeee;
        }
        input, textarea {
            border: 1px solid #d0d1d2;
            border-radius: 4px;
            padding: 10px 14px;
            width: 100%;
            transition: border-color 0.2s;
            background-color: #f9f9f9;
        }
        input:focus, textarea:focus {
            border-color: #3d3e40;
            outline: none;
            background-color: #fff;
        }
        .branch-card {
            border: 1px solid #eee;
            border-radius: 12px;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .branch-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.05);
        }
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-thumb { background: #e2e2e2; border-radius: 10px; }
    </style>
</head>
<body class="flex h-screen overflow-hidden">

    <!-- Sidebar: All Brands -->
    <aside class="w-72 bg-white border-right border-gray-200 flex flex-col border-r">
        <div class="p-8">
            <h1 class="text-2xl font-bold tracking-tighter uppercase italic">METIS</h1>
            <p class="text-[10px] text-gray-400 tracking-[0.3em] uppercase mt-1 font-medium">Network Intelligence</p>
        </div>
        
        <div class="flex-1 overflow-y-auto px-4 pb-10 space-y-1" id="brand-nav">
            <!-- JS에서 브랜드 리스트 생성 -->
        </div>

        <div class="p-6 border-t border-gray-100 text-[10px] text-gray-400 text-center">
            PRIVATE & CONFIDENTIAL | 2026
        </div>
    </aside>

    <!-- Main Section -->
    <main class="flex-1 flex flex-col bg-white">
        <header class="h-20 flex items-center justify-between px-10 border-b border-gray-50">
            <h2 id="brand-title" class="text-xl font-medium tracking-tight uppercase">전체 네트워크</h2>
            <div class="flex items-center space-x-6">
                <div class="relative">
                    <input type="text" placeholder="검색..." class="w-64 rounded-full bg-gray-100 border-none text-sm py-2 px-5">
                </div>
                <button class="bg-[#171a20] text-white px-6 py-2 rounded-full text-xs font-medium hover:bg-black transition">DATA EXPORT</button>
            </div>
        </header>

        <section class="flex-1 overflow-y-auto p-10">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="branch-grid">
                <!-- 선택된 브랜드의 지점 카드 로드 -->
            </div>
        </section>
    </main>

    <!-- Detail Side Panel (Tesla Style Modal) -->
    <div id="side-panel" class="fixed inset-y-0 right-0 w-[450px] bg-white shadow-2xl z-50 transform translate-x-full transition-transform duration-300 border-l border-gray-100 overflow-y-auto">
        <div class="p-10">
            <div class="flex justify-between items-center mb-10">
                <span class="text-xs font-bold text-gray-400 uppercase tracking-widest">Editor</span>
                <button onclick="closePanel()" class="text-3xl font-light">&times;</button>
            </div>

            <h3 id="edit-branch-name" class="text-2xl font-semibold mb-2 tracking-tight">지점명</h3>
            <p id="edit-dealer-name" class="text-gray-400 text-sm mb-10 font-light">딜러사 정보</p>

            <div class="space-y-8">
                <!-- Editable Fields -->
                <div>
                    <label class="block text-[10px] font-bold text-gray-400 uppercase mb-3 tracking-widest">C-Level Decision Maker</label>
                    <input type="text" id="input-exec" placeholder="대표 또는 본부장 성함/직함을 입력하세요">
                </div>

                <div>
                    <label class="block text-[10px] font-bold text-gray-400 uppercase mb-3 tracking-widest">Branch Manager</label>
                    <input type="text" id="input-mgr" placeholder="지점장 성함을 입력하세요">
                </div>

                <div>
                    <label class="block text-[10px] font-bold text-gray-400 uppercase mb-3 tracking-widest">Direct Contact</label>
                    <input type="text" id="input-tel" placeholder="연락처를 입력하세요">
                </div>

                <div>
                    <label class="block text-[10px] font-bold text-gray-400 uppercase mb-3 tracking-widest">Intelligence Notes</label>
                    <textarea id="input-notes" rows="6" placeholder="상담 내용 및 전략적 이슈를 기입하세요"></textarea>
                </div>

                <div class="pt-6">
                    <button onclick="saveData()" class="w-full bg-[#171a20] text-white py-4 rounded-md font-medium hover:bg-black transition shadow-lg">정보 저장하기</button>
                    <p class="text-center text-[10px] text-gray-400 mt-4 italic">저장 시 사장님용 실시간 리포트에 즉시 반영됩니다.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 국내 수입차 전 브랜드 리스트 (테슬라 제외)
        const brands = [
            "Mercedes-Benz", "BMW", "Audi", "Porsche", "Volvo", "Lexus", 
            "Volkswagen", "Land Rover", "Jeep", "Jaguar", "Maserati", 
            "Ford", "Lincoln", "Honda", "Toyota", "Cadillac", 
            "Bentley", "Lamborghini", "Ferrari", "Rolls-Royce"
        ];

        // 가상 딜러 데이터 (브랜드별 대표 딜러 1~2개씩 자동 생성)
        const dealerData = {};
        brands.forEach(b => {
            dealerData[b] = [
                { dealer: b + " Dealer A", branches: ["본점", "강남 전시장", "경기 전시장"] },
                { dealer: b + " Dealer B", branches: ["수원 전시장", "부산 전시장"] }
            ];
        });

        // 사이드바 생성
        const nav = document.getElementById('brand-nav');
        brands.forEach(brand => {
            const btn = document.createElement('button');
            btn.className = "sidebar-item w-full text-left px-4 py-3 rounded-lg text-sm transition-all";
            btn.innerText = brand;
            btn.onclick = () => selectBrand(brand, btn);
            nav.appendChild(btn);
        });

        function selectBrand(brand, el) {
            document.querySelectorAll('.sidebar-item').forEach(i => i.classList.remove('active'));
            el.classList.add('active');
            document.getElementById('brand-title').innerText = brand + " Network";
            
            const grid = document.getElementById('branch-grid');
            grid.innerHTML = "";
            
            dealerData[brand].forEach(d => {
                d.branches.forEach(br => {
                    const card = document.createElement('div');
                    card.className = "branch-card p-8 cursor-pointer bg-white";
                    card.onclick = () => openPanel(d.dealer, br);
                    card.innerHTML = `
                        <div class="flex justify-between items-start mb-6">
                            <span class="text-[9px] font-bold text-gray-400 uppercase tracking-widest">${d.dealer}</span>
                            <div class="w-2 h-2 rounded-full bg-gray-200"></div>
                        </div>
                        <h4 class="text-lg font-semibold mb-4">${br}</h4>
                        <div class="space-y-2">
                            <div class="flex justify-between text-[11px] text-gray-400 uppercase">
                                <span>Decision Maker</span>
                                <span class="text-black font-medium text-right">미기입</span>
                            </div>
                            <div class="flex justify-between text-[11px] text-gray-400 uppercase">
                                <span>Manager</span>
                                <span class="text-black font-medium text-right">미기입</span>
                            </div>
                        </div>
                    `;
                    grid.appendChild(card);
                });
            });
        }

        function openPanel(dealer, branch) {
            document.getElementById('edit-branch-name').innerText = branch;
            document.getElementById('edit-dealer-name').innerText = dealer + " Official Network";
            
            // 기존 데이터 로드 (시뮬레이션: 실제로는 DB에서 호출)
            document.getElementById('input-exec').value = "";
            document.getElementById('input-mgr').value = "";
            document.getElementById('input-tel').value = "";
            document.getElementById('input-notes').value = "";

            const panel = document.getElementById('side-panel');
            panel.classList.remove('translate-x-full');
        }

        function closePanel() {
            document.getElementById('side-panel').classList.add('translate-x-full');
        }

        function saveData() {
            alert("입력한 데이터가 저장되었습니다.");
            closePanel();
        }

        // 최초 로드: 벤츠 선택
        selectBrand(brands[0], nav.firstChild);
    </script>
</body>
</html>
